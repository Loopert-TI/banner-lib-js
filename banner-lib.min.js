!function(){"use strict";window.BannerLib=window.BannerLib||{};const n={apiBaseUrl:"https://campaign.loopert.com",token:"",animationDuration:300,styles:{overlay:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:"999999",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"Arial, sans-serif"},container:{position:"relative",borderRadius:"12px",padding:"20px",maxWidth:"500px",maxHeight:"90vh",animation:"bannerFadeIn 0.3s ease-out"},image:{width:"100%",height:"auto",maxHeight:"500px",objectFit:"contain",borderRadius:"8px",marginBottom:"15px"},buttonContainer:{display:"flex",gap:"10px",justifyContent:"center",flexWrap:"wrap"},button:{padding:"12px 24px",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",textDecoration:"none",display:"inline-block",textAlign:"center",minWidth:"100px",transition:"all 0.2s ease"},redirectButton:{backgroundColor:"#2E5EAA",color:"#fff"},closeButton:{backgroundColor:"#6c757d",color:"#fff"},closeX:{position:"absolute",top:"22px",right:"30px",background:"none",border:"none",fontSize:"35px",cursor:"pointer",color:"#999",lineHeight:"1",padding:"0"}}};function e(n,e){Object.assign(n.style,e)}function t(t,i={}){const s={...n,...i};!function(){if(document.getElementById("banner-lib-styles"))return;const n=document.createElement("style");n.id="banner-lib-styles",n.textContent="\n            @keyframes bannerFadeIn {\n                from {\n                    opacity: 0;\n                    transform: scale(0.9);\n                }\n                to {\n                    opacity: 1;\n                    transform: scale(1);\n                }\n            }\n            \n            @keyframes bannerFadeOut {\n                from {\n                    opacity: 1;\n                    transform: scale(1);\n                }\n                to {\n                    opacity: 0;\n                    transform: scale(0.9);\n                }\n            }\n            \n            .banner-lib-container-fade-out {\n                animation: bannerFadeOut 0.3s ease-in forwards !important;\n            }\n            \n            .banner-lib-button:hover {\n                transform: translateY(-2px);\n            }\n            \n            .banner-lib-close-x:hover {\n                color: #ddd !important;\n            }\n            \n            @media (max-width: 768px) {\n                .banner-lib-container {\n                    margin: 20px !important;\n                    max-width: calc(100% - 40px) !important;\n                }\n                \n                .banner-lib-button-container {\n                    flex-direction: column !important;\n                }\n            }\n        ",document.head.appendChild(n)}(),fetch(`${s.apiBaseUrl}/distribute/banner/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}}).then((n=>{if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return n.json()})).then((n=>{if(console.log(n),!n.bannerUrl)throw new Error("Banner image URL not found");!function(n,t){a();const i=document.createElement("div");i.id="banner-lib-overlay",e(i,t.styles.overlay);const s=document.createElement("div");s.className="banner-lib-container",e(s,t.styles.container);const c=document.createElement("button");c.innerHTML="&times;",c.className="banner-lib-close-x",c.onclick=o,e(c,t.styles.closeX),s.appendChild(c);const l=document.createElement("img");l.src=n.bannerUrl,l.alt="Banner Image",l.className="banner-lib-image",e(l,t.styles.image),l.onerror=function(){console.error("Erro ao carregar a imagem do banner"),o()},s.appendChild(l);const d=document.createElement("div");if(d.className="banner-lib-button-container",e(d,t.styles.buttonContainer),n.href){const o=document.createElement("a");o.href=n.href,o.target="_blank",o.rel="noopener noreferrer",o.textContent=n.actionButtonText||"Acessar",o.className="banner-lib-button",e(o,{...t.styles.button,...t.styles.redirectButton}),d.appendChild(o)}s.appendChild(d),i.appendChild(s),document.body.appendChild(i),i.onclick=function(n){n.target===i&&o()},document.addEventListener("keydown",r),t.onShow&&t.onShow(n)}(n,s)})).catch((n=>{console.error("Erro ao carregar banner:",n),i.onError&&i.onError(n)}))}function o(e=n){const t=document.getElementById("banner-lib-overlay"),o=t?.querySelector(".banner-lib-container");o&&!o.classList.contains("banner-lib-container-fade-out")&&(o.classList.add("banner-lib-container-fade-out"),setTimeout((()=>{a(),document.removeEventListener("keydown",r)}),e.animationDuration||300))}function a(){const n=document.getElementById("banner-lib-overlay");n&&n.remove()}function r(n){"Escape"===n.key&&o()}function i(){document.querySelectorAll('script[src*="banner-lib"]').forEach((e=>{const o=e.getAttribute("data-stream-id");if(o){const a=parseInt(e.getAttribute("data-delay"))||0,r={apiBaseUrl:e.getAttribute("data-api-url")||n.apiBaseUrl,token:e.getAttribute("data-token")||n.token};setTimeout((()=>{t(o,r)}),a)}}))}window.BannerLib={show:t,close:o,version:"1.0.0"},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",i):i()}();