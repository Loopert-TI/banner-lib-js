!function(){"use strict";window.BannerLib=window.BannerLib||{};let n=!1;const e={apiBaseUrl:"https://campaign.loopert.com",token:"",animationDuration:300,styles:{overlay:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:"999999",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"Arial, sans-serif"},container:{position:"relative",borderRadius:"12px",padding:"20px",maxWidth:"500px",maxHeight:"90vh",animation:"bannerFadeIn 0.3s ease-out"},image:{width:"100%",height:"auto",maxHeight:"500px",objectFit:"contain",borderRadius:"8px",marginBottom:"15px"},buttonContainer:{display:"flex",gap:"10px",justifyContent:"center",flexWrap:"wrap"},button:{padding:"12px 24px",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",textDecoration:"none",display:"inline-block",textAlign:"center",minWidth:"100px",transition:"all 0.2s ease"},redirectButton:{backgroundColor:"#2E5EAA",color:"#fff"},closeButton:{backgroundColor:"#6c757d",color:"#fff"},closeX:{position:"absolute",top:"22px",right:"30px",background:"none",border:"none",fontSize:"35px",cursor:"pointer",color:"#999",lineHeight:"1",padding:"0"}}};function t(n,e){Object.assign(n.style,e)}function o(o,c={}){if(n)return;const s={...e,...c};n=!0,function(){if(document.getElementById("banner-lib-styles"))return;const n=document.createElement("style");n.id="banner-lib-styles",n.textContent="\n            @keyframes bannerFadeIn {\n                from {\n                    opacity: 0;\n                    transform: scale(0.9);\n                }\n                to {\n                    opacity: 1;\n                    transform: scale(1);\n                }\n            }\n            \n            @keyframes bannerFadeOut {\n                from {\n                    opacity: 1;\n                    transform: scale(1);\n                }\n                to {\n                    opacity: 0;\n                    transform: scale(0.9);\n                }\n            }\n            \n            .banner-lib-container-fade-out {\n                animation: bannerFadeOut 0.3s ease-in forwards !important;\n            }\n            \n            .banner-lib-button:hover {\n                transform: translateY(-2px);\n            }\n            \n            .banner-lib-close-x:hover {\n                color: #ddd !important;\n            }\n            \n            @media (max-width: 768px) {\n                .banner-lib-container {\n                    margin: 20px !important;\n                    max-width: calc(100% - 40px) !important;\n                }\n                \n                .banner-lib-button-container {\n                    flex-direction: column !important;\n                }\n            }\n        ",document.head.appendChild(n)}(),fetch(`${s.apiBaseUrl}/distribute/banner/${o}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`}}).then((n=>{if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return n.json()})).then((n=>{if(!n.bannerUrl)throw new Error("Banner image URL not found");!function(n,e){a();const o=document.createElement("div");o.id="banner-lib-overlay",t(o,e.styles.overlay);const c=document.createElement("div");c.className="banner-lib-container",c.onclick=function(n){n.stopPropagation();const e=c.querySelector(".banner-lib-image"),t=c.querySelector(".banner-lib-button");n.target===e&&t&&t.click()},t(c,e.styles.container);const s=document.createElement("button");s.innerHTML="&times;",s.className="banner-lib-close-x",s.onclick=r,t(s,e.styles.closeX),c.appendChild(s);const l=document.createElement("img");l.src=n.bannerUrl,l.alt="Banner Image",l.className="banner-lib-image",t(l,e.styles.image),l.onerror=function(){console.error("Erro ao carregar a imagem do banner"),r()},c.appendChild(l);const d=document.createElement("div");if(d.className="banner-lib-button-container",t(d,e.styles.buttonContainer),n.href){const o=document.createElement("a");o.href=n.href,o.target="_blank",o.rel="noopener noreferrer",o.textContent=n.actionButtonText||"Acessar",o.className="banner-lib-button",t(o,{...e.styles.button,...e.styles.redirectButton}),d.appendChild(o)}c.appendChild(d),o.appendChild(c),document.body.appendChild(o),o.onclick=function(n){n.target===o&&r()},document.addEventListener("keydown",i),e.onShow&&e.onShow(n)}(n,s)})).catch((e=>{console.error("Erro ao carregar banner:",e),n=!1,c.onError&&c.onError(e)}))}function r(n=e){const t=document.getElementById("banner-lib-overlay"),o=t?.querySelector(".banner-lib-container");o&&!o.classList.contains("banner-lib-container-fade-out")&&(o.classList.add("banner-lib-container-fade-out"),setTimeout((()=>{a(),document.removeEventListener("keydown",i)}),n.animationDuration||300))}function a(){const e=document.getElementById("banner-lib-overlay");e&&(n=!1,e.remove())}function i(n){"Escape"===n.key&&r()}function c(){document.querySelectorAll('script[src*="banner-lib"]').forEach((n=>{const t=n.getAttribute("data-stream-id");if(t){const r=parseInt(n.getAttribute("data-delay"))||0,a={apiBaseUrl:n.getAttribute("data-api-url")||e.apiBaseUrl,token:n.getAttribute("data-token")||e.token};setTimeout((()=>{o(t,a)}),r)}}))}window.BannerLib={show:o,close:r,init:c,isActive:function(){return n},version:"1.0.0"},function(){const n=document.querySelectorAll('script[src*="banner-lib"]');return Array.from(n).some((n=>"true"===n.getAttribute("data-show-entry-popup")))}()&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):c())}();